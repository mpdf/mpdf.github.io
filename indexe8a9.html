

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>


<!-- Mirrored from mpdf1.com/manual/index.php?tid=410&op_target=print&id=468 by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 05 Aug 2015 11:42:28 GMT -->
<head>
<meta name="ROBOTS" content="noindex,nofollow">
<title>mPDF Manual</title>
<meta http-equiv="Content-Language" content="en-gb"  />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"  />
<link type="text/css" href="http://mpdf1.com/common/book/print.css" rel="stylesheet" />

<link href="http://mpdf1.com/manual/files/styleprint.css" type="text/css" rel="stylesheet" />

<script type="text/javascript" src="http://mpdf1.com/common/book/js/wz_jsgraphics.js"></script>
</head>

<body>

<h1>mPDF Manual</h1>
<h2>http://mpdf1.com/manual</h2>



<div id="bpmtopictitlenotabs">
<!-- TOPIC TITLE -->
<div class="breadcrumb">User's Guide &raquo; About mPDF</div>
<h3>What's new in Version 4 - <span class="redbold">Archived</span></h3>
</div>
<!-- START BPMBOOK -->
<div id="bpmbook" class="bpmbook" style="direction:ltr;">
<div class="topic_user_field">
<div id="U0">
<h5>Major additions</h5> 
<p>Ability to <a href="http://mpdf1.com/manual/index.php?tid=403">embed font subsets</a> (creating much smaller files)</p> 
<p>Much improved support for <a href="http://mpdf1.com/manual/index.php?tid=405">Arabic languages</a></p> 
<p>Support for <a href="http://mpdf1.com/manual/index.php?tid=405">Indic languages</a> including consonant conjuncts</p> 
<p>Support for <a href="http://mpdf1.com/manual/index.php?tid=401">Fixed position block elements</a></p> 
<p>New utility to help <a href="http://mpdf1.com/manual/index.php?tid=409">create your own fonts</a></p> 
<p><a href="http://mpdf1.com/manual/index.php?tid=245">PNG alpha channel transparency</a> supported</p> 
<p>New utility to <a href="http://mpdf1.com/manual/index.php?tid=406">create smaller mpdf script</a> with reduced functionality (less memory)</p> 
<p>Multiple <a href="http://mpdf1.com/manual/index.php?tid=290">Barcode</a> types supported</p> 
<p class="manual_block">Note: Some changes may alter behaviour from previous versions - see below for details</p> 
<h6>Additional CSS support</h6> 
<ul> 
<li>parsing for stylesheets has been altered and generally improved</li> 
<li>position:fixed or position:absolute supported (partially) for block elements<br />
&nbsp; ( together with overflow = visible|hidden|auto, and top,left,bottom,right)</li> 
<li>border-top-color, border-top-width and border-top-style (+ left, bottom and right) are now supported</li> 
<li>border-color, border-style and border-width are now supported as shorthand forms</li> 
<li>"font" is supported as shorthand form - as for CSS2 i.e. [font-style | font-variant | font-weight ]? font-size [ / line-height ]? font-family </li> 
<li>line-height now supports actual length units e.g. px or mm or em</li> 
<li>border specified as "em" now works correctly</li> 
<li>shorthand form of margin and padding with 3 parameters supported e.g. "margin: 20px 20px 20px;"</li> 
<li>inline elements e.g. p.classname span {} now (partially) supported in CSS stylesheets</li> 
<li>image properties height or width now support values set as "em"</li> 
<li>image now supports property "padding"</li> 
<li>table cell - CSS height property supported (previously only supported as HTML attribute)</li> 
</ul> 
<h5>Changed behaviour from previous versions of mPDF</h5> 
<h6>Justified text<br />
</h6> 
<p>Word and character spacing are continued on the final line of justified text. This follows practice in programs such as Word and produces a more pleasing appearance. The word spacing and character spacing are limited to maximum values which can be altered in the <span class="filename">config.php</span> file (<span class="filename">$this-&gt;jSmaxCharLast</span>, <span class="filename">$this-&gt;jSmaxWordLast</span>). Setting these both to 0 will turn off the effect.</p> 
<h6>Automatic language detection<br />
</h6> 
<p>Auto-detection of languages using <span class="function">AutoFont()</span> has been improved:</p> 
<ul> 
<li>avoids nesting of <span class="filename">&lt;span&gt;</span>s&nbsp;generated by&nbsp;using <span class="function">AutoFont()</span> </li> 
<li>now distinguishes Chinese and Vietnamese</li> 
<li>better algorithm to distinguish Arabic, Persian, Urdu, Sindhi and Pashto</li> 
<li>improved detection of Indic text including zero-width (non-)joiners etc.</li> 
</ul> 
<p><span class="function">AutoFont()</span> now marks text with a class as well e.g. <span class="filename">&lt;span lang="xx" class="lang_xx"&gt;</span> to aid CSS stylesheet use:</p> 
<p class="examplecode"><b>Example</b></p> 
<p class="examplecode">&lt;style&gt;<br />
.lang_hi { font-size: 18pt; }<br />
&lt;/style&gt;<br />
<br />
<br />
// Any text which is detected by AutoFont() as Hindi/devanagari, will be tagged with the<br />
// class, and thus acquire the CSS properties.</p> 
<h6>Character Substitutions<br />
</h6> 
<p><span class="parameter">$useSubstitutions</span> is now selected automatically when instantiating class. Character substitution is turned on automatically if using mPDF with win-1252, win-1251, iso-8859-x, or a CJK codepage. Otherwise it is turned off (it was always on &lt;= 3.2).</p> 
<p>Character substitution no longer works for UTF-8 documents. If you want to override the above, and turn it off, use:</p> 
<p><span class="filename">$mpdf-&gt;useSubstitutions = false;</span></p> 
<p>Character substitution now uses an appropriate sans, serif, or mono font and keeps the current style (italic/bold etc.)</p> 
<h6>Support for CSS "lang"<br />
</h6> 
<p><span class="parameter">$useLang</span> is now set to <span class="smallblock">TRUE</span> by default i.e. mPDF will use the CSS property "lang"&nbsp;to restrict fonts - as specified&nbsp;by <span class="function">GetCodePage()</span> in <span class="filename">config_cp.php</span></p> 
<p>Prior to v4.0, if the main codepage is set to e.g. mPDF('he') this restricts available fonts (so that only fonts which contain hebrew characters will be selected). If you then use&nbsp; &lt;p lang="ps"&gt;...&lt;/p&gt; to include some Pashto language in the document, mPDF would not select an appropriate font as it was not included in the initial restricted list.</p> 
<p>This has been changed so that "lang" will select restricted fonts from the full list.</p> 
<h6>RTL text</h6> 
<p>mPDF will now automatically check all HTML (<span class="function">WriteHTML()</span>) for any RTL characters. This will set <span class="parameter">$biDirectional</span> to enable processing of RTL text. <span class="parameter">$biDirectional</span> no longer needs to be set explicitly.</p> 
<p>The variable <span class="parameter">$rtlAsArabicFarsi</span> is depracated/ignored/no longer needed, with the new fonts used in v4.0.</p> 
<p>The Scheherazade font is no longer included with mPDF. All RTL language is now "joined" and uses Presentation Forms for initial-medial-final forms (which are not included in the Scheherazade font).</p> 
<p>Joining of arabic text has been improved for arabic (esp. characters U+0670 and U+0653), and additionally for persian(farsi) pashto, urdu, and sindhi.</p> 
<p>Brackets are now reversed appropriately in RTL text: []{}()</p> 
<h6>New Alias<br />
</h6> 
<p><span class="parameter">$mirrorMargins</span> has been introduced instead of <span class="parameter">$useOddEven</span>. <span class="parameter">$useOddEven</span> is depracated but will continue to be supported.</p> 
<h6>Defining _MPDF_PATH</h6> 
<p><span class="filename">_MPDF_PATH</span> is now defined automatically when including the <span class="filename">mpdf.php</span> file, so you don't need to explicitly define it.</p> 
<h6>Changes to default CSS</h6> 
<p>The default CSS for mPDF (contained in <span class="filename">mpdf.css</span>) has been changed</p> 
<ul> 
<li><span class="parameter">line-height</span> for UL, OL removed - to allow inheritance of line-height to lists </li> 
</ul> 
<p>NB Although CSS states line-height is inherited by all, browsers do not inherit to tables (and neither does mPDF).</p> 
<ul> 
<li><span class="parameter">text-align</span> and <span class="parameter">text-indent</span> have been removed from P but included for BODY<br />
</li> 
</ul> 
<p>Previously <span class="filename">&lt;div&gt;&lt;h1&gt;Here&lt;/h1&gt;&lt;/div&gt;</span> lost the font-size set for H1</p> 
<p>(This has also been changed in function MergeCSS so that the default tag CSS is not overwritten by "inherited" styles)</p> 
<h6>In-line "background-color"<br />
</h6> 
<p>The in-line property background-color now puts a fill of the specified colour around the font - not the full cell size (which includes the line-height). This makes the appearance match that of a browser more closely.</p> 
<h6>Underline and Strikethrough<br />
</h6> 
<p>The position and line thickness used for underline and strikethrough text is now based on information from the font file (the up and ut values in the font metrics). Previously this was standard for every font/style/weight.</p> 
<p>This has required changes to the core font files e.g. times.php to add up/ut values.</p> 
<h6>Changes to font files</h6> 
<p>A fresh install is recommended for mPDF 4.0. One of the reasons is numerous changes to the font files including:</p> 
<ul> 
<li>all the dejavu* and free* font files are updated to the latest releases</li> 
<li>the core font files have been changed - renaming the variable returning the character-width data</li> 
<li>up and ut have been added to some of the font files (cf. underline and strikethrough)<br />
</li> 
</ul> 
<h6>Other Font changes/improvements</h6> 
<p>Text can now be copied &amp; pasted correctly from a completed PDF doc to PC clipboard when using single-byte, non-win-1252 codepage e.g. win-1251.</p> 
<ul> 
<li>NB Requires /maps/ folder with copies of all maps in it (included as part of mPDF 4.0) </li> 
<li>NNB This doesn't work if you have made custom "diffs" - but this only affects the copy/paste text, not how it appears in the PDF</li> 
</ul> 
<p>A font that is declared (e.g. default font) but never used, is not now embedded in the PDF file when using TrueTypeUnicode (i.e. utf-8) fonts (not when using embedded font subset). This can save up to 300KB off the size of the PDF file.</p> 
<p>All the dejavu* and free* fonts have been updated to the latest versions (affects unifont files only). Note that the freeserif file has much greater coverage of characters now - but it adds 768kb to a PDF file if not using subsets!</p> 
<h6>Developing</h6> 
<p>If you testing out different configurations of mPDF, try setting <span class="filename">$mpf-&gt;showStats = true</span> (default = false). This will display a few figures about mPDF instead of outputting the actual PDF file e.g. memory usage, files size, time taken.</p> 
<h6>HTML Headers and Footers</h6> 
<p>All HTML headers and footers are now actually "written" at the end of the document. This allows the page numbers (especially the page total) to be accurately written. The variable <span class="parameter">$this-&gt;headerPageNoMarker = "!|";</span> is no longer required.</p> 
<p>Alternative modes of making the top/bottom margins dependent on the header/footer sizes have been added. See <a href="http://mpdf1.com/manual/index.php?tid=411">Headers &amp; Top Margins</a></p> 
<h6>Image handling</h6> 
<p>As well as support for PNG alpha channel transparency, a number of other improvements have been made for images.</p> 
<p>GIF files take a very long time to process using the included gif.php class. This allows GIF files to be included without requiring built-in PHP support. However since most people probably have the GD library included with their PHP and GIF support, mPDF now attempts first to use this. If successful, it results in much faster processing of GIF images.</p> 
<p>mPD now also attempts to use the GD library (if present) to handle interlaced, transparent and filtered PNG files - with better results and greater support for different types of PNG images.</p> 
<p>There is improved recognition of image files with no extension and no/incorrect PHP Header sent (again using GD library where possible.</p> 
<h5>Bug fixes</h5> 
<h6>Bug fixes (parsing CSS)</h6> 
<ul> 
<li>&lt;link&nbsp; href="" ... was not recognised if &gt; 1 space between words<br />
</li> 
<li>#Content p em { font-style:italic; } was applied to "#Content p"<br />
</li> 
<li>@import url() embedded in a stylesheet file requires path fixed relative to stylesheet file<br />
</li> 
<li>background-image url() embedded in a stylesheet file requires path fixed relative to stylesheet file<br />
</li> 
<li>comment tags inside CSS &lt;style&gt; embedded in the HTML were removed<br />
Now fixed so &lt;style&gt;&lt;!-- ... --&gt;&lt;/style&gt; works; &lt;!-- &lt;style&gt;...&lt;/style&gt; --&gt; is removed<br />
</li> 
</ul> 
<h6>Bug fixes (other)<br />
</h6> 
<ul> 
<li>clear (CSS property for floating elements) caused properties for that element to reset to defaults<br />
</li> 
<li>width: auto caused collapse of border and padding on L &amp; R of ordinary block elements<br />
</li> 
<li>text-indent not inherited correctly (including em and % values)<br />
</li> 
<li>named colour "steelblue" corrected RRGGBB hex code<br />
</li> 
<li>table cell widths in %: error if width of table cells set to &gt;=100%, and not all columns are set. (This was fixed in 3.2 but led to problem where 2 cols: 1) 80% and 2) not set (see Table sizing test) Now fixed again to work for both - hopefully<br />
</li> 
<li>parse PNG error fixed<br />
</li> 
<li>bachground-image not correctly positioned in HTMLFooter and HTMLHeader (Not fixed properly in 3.2!)<br />
</li> 
<li>fonts not supported with 0-9 in the name<br />
</li> 
<li>font list in GetCodepage() in htmltoolkit.php (now config_cp.php) containing space " " not recognised<br />
</li> 
<li>list number positioning<br />
</li> 
<li>list font size set in CSS for UL/OL not working for first level list<br />
</li> 
<li>table width (real value, not %) not working in nested table<br />
</li> 
<li>GIF file failed if PDF file not compressed<br />
</li> 
<li>list-style-type incorrectly inherited<br />
</li> 
<li>line-height inheritance in lists<br />
</li> 
<li>SetColumns added a new line - not required if at start of document/page<br />
</li> 
<li>footer_line_spacing did not work<br />
</li> 
<li>table cellPadding="" overwrote cell padding set on cell CSS<br />
</li> 
<li>could not turn off Default non-HTML foter LINE<br />
</li> 
<li>border specified as "em"<br />
</li> 
<li>default values set in mpdf.css overriden by inherited properties e.g. &lt;div&gt;&lt;h1&gt;Here&lt;/h1&gt;&lt;/div&gt; lost font-size for H1</li> 
</ul> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
</div>
</div>
<!-- TOPIC ENDS -->
<!-- END BPMBOOK -->
 </div> 
<!-- START BOTTOM GRAY BOX -->
<div class="graybottom">
<div class="grayhead">
<div class="left">
<!-- VERSIONS LANGUAGE/COUNTRY INFORMATION -->
Edition/Revision: 1.0</div>
<div class="right">Created 17 Dec 2009 - <span class="redbold">Archived</span><br />
Validated 22 Sep 2010 by Ian Back</div> 
<div class="clearer"></div> 
</div>
</div>
<!-- END BOTTOM GRAY BOX -->

<!-- BEGIN FOOTER -->
<div id="printfooter"> 
<table cellspacing="0" cellpadding="6" width="100%" border="0">
  <tr valign="top" bgColor="#ffffff">
    <td>Copyright &copy; 2015 
    Ian N Back<br />
	</td>
    <td align="right">Printed: Wed 05 Aug 2015 12:36:47 GMT +0100 (DST)<br />
   </td>
  </tr>
</table>
</div>
</body>


<!-- Mirrored from mpdf1.com/manual/index.php?tid=410&op_target=print&id=468 by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 05 Aug 2015 11:42:28 GMT -->
</html>